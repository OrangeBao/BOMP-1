<div *ngIf="!isFinished">
  <form nz-form [formGroup]="validateForm">
    <div nz-form-item class="row">
      <div nz-form-label class="column-left">
        <label [attr.for]="'name'" nz-form-item-required>名称</label>
      </div>
      <div nz-form-control class="column-right">
        <nz-input [nzPlaceHolder]="'请输入...'" [formControlName]="'name'" [nzId]="'name'"></nz-input>
        <div nz-form-explain *ngIf="getFormControl('name').dirty && getFormControl('name').hasError('required')">请输入名称</div>
      </div>
    </div>
    <div nz-form-item class="row">
      <div nz-form-label class="column-left">
        <label [attr.for]="'description'" nz-form-item-required>描述</label>
      </div>
      <div nz-form-control class="column-right">
        <nz-input [nzPlaceHolder]="'请输入...'" [formControlName]="'description'" [nzId]="'description'"></nz-input>
        <div nz-form-explain *ngIf="getFormControl('description').dirty && getFormControl('description').hasError('required')">请输入描述信息</div>
      </div>
    </div>
    <div nz-form-item class="row">
      <div nz-form-label class="column-left">
        <label [attr.for]="'tags'" nz-form-item-required>标签</label>
      </div>
      <!-- <div nz-form-control class="column-right">
            <ng-container *ngFor="let tag of tempTags">
              <nz-tag [nzClosable]="true" (nzClose)="deleteTag(tag)">{{tag}}</nz-tag>
            </ng-container>
            <button nz-button [nzSize]="'small'" *ngIf="!isAddingTag" (click)="addTag()">
              <i class="fa fa-plus"></i>
              <span>添加</span>
            </button>
            <input nz-input #input *ngIf="isAddingTag" type="text" [(ngModel)]="newTagValue" [ngModelOptions]="{standalone: true}" style="width: 100px;"
              (blur)="confirmAddTag()" (keydown.enter)="confirmAddTag()">
          </div> -->
      <div nz-form-control class="column-right">
        <app-tag-input formControlName="tags"></app-tag-input>
        <div nz-form-explain *ngIf="getFormControl('tags').dirty && getFormControl('tags').hasError('required')">请输入tags!</div>
      </div>
    </div>
    <div nz-form-item class="row">
      <div nz-form-label class="column-left">
        <label [attr.for]="'datasource'" nz-form-item-required>读数据源</label>
      </div>
      <div nz-form-control class="column-right">
        <nz-select [formControlName]="'datasource'" [nzPlaceHolder]="'请选择'">
          <nz-option *ngFor="let option of dataSourceList" [nzLabel]="option.name" [nzValue]="option">
          </nz-option>
        </nz-select>
      </div>
    </div>
    <!-- <div nz-form-item nz-row>
      <div nz-form-control nz-col [nzSpan]="24" style="text-align: center;">
        <button nz-button [nzType]="'primary'">
          <span>确定</span>
        </button>
      </div>
    </div> -->
  </form>
  <hr style="color: #ccc; margin-top: 30px; margin-bottom: 15px;" />
  <div class='row' style="display: flex; justify-content: flex-end; width: 700px;">
    <button nz-button [nzType]="'primary'" style="margin-right: 20px;" (click)="submitForm()">
      <span>确定</span>
    </button>
    <button nz-button>
      <span>取消</span>
    </button>
  </div>
</div>

<div *ngIf="isFinished">
  <div class="form-w">
    <div class="dark-wrapper">
      <img src="assets/u4513.png" />
      <div class="jump-info-w">
        <span class="count-w">新建监控对象成功，页面即将跳转
          <span>{{count}}</span> s.{{count % 2 === 0 ? '..' : ''}}</span>
        <a routerLink="../table">返回控制对象</a>
      </div>
    </div>
  </div>
</div>